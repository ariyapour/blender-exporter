{"body": [{"body": {"body": [{"declarations": [{"init": {"callee": {"name": "vronoiNoise", "type": "Identifier"}, "arguments": [{"object": {"name": "env", "type": "Identifier"}, "property": {"name": "texcoord", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, {"object": {"name": "env", "type": "Identifier"}, "property": {"name": "scale", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}], "type": "CallExpression"}, "id": {"name": "distance", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"declarations": [{"init": {"callee": {"name": "fresnelequation", "type": "Identifier"}, "arguments": [{"object": {"name": "env", "type": "Identifier"}, "property": {"name": "blend", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, {"object": {"name": "env", "type": "Identifier"}, "property": {"name": "normal", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, {"object": {"name": "env", "type": "Identifier"}, "property": {"name": "position", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}], "type": "CallExpression"}, "id": {"name": "fresnel", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"declarations": [{"init": {"callee": {"name": "calculateEta", "type": "Identifier"}, "arguments": [{"object": {"name": "env", "type": "Identifier"}, "property": {"name": "blend", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}], "type": "CallExpression"}, "id": {"name": "eta", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"argument": {"callee": {"object": {"type": "CallExpression", "arguments": [{"object": {"name": "env", "type": "Identifier"}, "property": {"name": "normal", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, {"name": "eta", "type": "Identifier"}, {"right": {"name": "fresnel", "type": "Identifier"}, "operator": "-", "left": {"raw": "1", "value": 1, "type": "Literal"}, "type": "BinaryExpression"}], "callee": {"object": {"callee": {"name": "Shade", "type": "Identifier"}, "arguments": [], "type": "NewExpression"}, "property": {"name": "refract", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}}, "property": {"name": "reflect", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, "arguments": [{"object": {"name": "env", "type": "Identifier"}, "property": {"name": "normal", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, {"name": "fresnel", "type": "Identifier"}], "type": "CallExpression"}, "type": "ReturnStatement"}], "type": "BlockStatement"}, "defaults": [], "params": [{"name": "env", "type": "Identifier"}], "expression": false, "generator": false, "rest": null, "id": {"name": "shade", "type": "Identifier"}, "type": "FunctionDeclaration"}, {"body": {"body": [{"argument": {"callee": {"object": {"name": "Math", "type": "Identifier"}, "property": {"name": "max", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, "arguments": [{"right": {"name": "blend", "type": "Identifier"}, "operator": "-", "left": {"raw": "1.0", "value": 1.0, "type": "Literal"}, "type": "BinaryExpression"}, {"raw": "1e-5", "value": 1e-05, "type": "Literal"}], "type": "CallExpression"}, "type": "ReturnStatement"}], "type": "BlockStatement"}, "defaults": [], "params": [{"name": "blend", "type": "Identifier"}], "expression": false, "generator": false, "rest": null, "id": {"name": "calculateEta", "type": "Identifier"}, "type": "FunctionDeclaration"}, {"body": {"body": [{"declarations": [{"init": {"callee": {"object": {"name": "normal", "type": "Identifier"}, "property": {"name": "normalize", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, "arguments": [], "type": "CallExpression"}, "id": {"name": "N", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"declarations": [{"init": {"callee": {"object": {"callee": {"object": {"name": "Space", "type": "Identifier"}, "property": {"name": "transformDirection", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, "arguments": [{"object": {"name": "Space", "type": "Identifier"}, "property": {"name": "WORLD", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, {"name": "position", "type": "Identifier"}], "type": "CallExpression"}, "property": {"name": "sub", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, "arguments": [{"object": {"type": "ThisExpression"}, "property": {"name": "cameraPosition", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}], "type": "CallExpression"}, "id": {"name": "I", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"declarations": [{"init": {"callee": {"object": {"name": "I", "type": "Identifier"}, "property": {"name": "dot", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, "arguments": [{"name": "N", "type": "Identifier"}], "type": "CallExpression"}, "id": {"name": "cosi", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"declarations": [{"init": {"callee": {"object": {"name": "Math", "type": "Identifier"}, "property": {"name": "max", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, "arguments": [{"right": {"name": "blend", "type": "Identifier"}, "operator": "-", "left": {"raw": "1.0", "value": 1.0, "type": "Literal"}, "type": "BinaryExpression"}, {"raw": "1e-5", "value": 1e-05, "type": "Literal"}], "type": "CallExpression"}, "id": {"name": "eta", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"declarations": [{"init": {"callee": {"object": {"name": "Math", "type": "Identifier"}, "property": {"name": "abs", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, "arguments": [{"name": "cosi", "type": "Identifier"}], "type": "CallExpression"}, "id": {"name": "c", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"declarations": [{"init": {"right": {"right": {"name": "c", "type": "Identifier"}, "operator": "*", "left": {"name": "c", "type": "Identifier"}, "type": "BinaryExpression"}, "operator": "+", "left": {"right": {"raw": "1.0", "value": 1.0, "type": "Literal"}, "operator": "-", "left": {"right": {"name": "eta", "type": "Identifier"}, "operator": "*", "left": {"name": "eta", "type": "Identifier"}, "type": "BinaryExpression"}, "type": "BinaryExpression"}, "type": "BinaryExpression"}, "id": {"name": "g", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"alternate": {"argument": {"raw": "1.0", "value": 1.0, "type": "Literal"}, "type": "ReturnStatement"}, "test": {"right": {"raw": "0", "value": 0, "type": "Literal"}, "operator": ">", "left": {"name": "g", "type": "Identifier"}, "type": "BinaryExpression"}, "consequent": {"body": [{"expression": {"right": {"callee": {"object": {"name": "Math", "type": "Identifier"}, "property": {"name": "sqrt", "type": "Identifier"}, "computed": false, "type": "MemberExpression"}, "arguments": [{"name": "g", "type": "Identifier"}], "type": "CallExpression"}, "operator": "=", "left": {"name": "g", "type": "Identifier"}, "type": "AssignmentExpression"}, "type": "ExpressionStatement"}, {"declarations": [{"init": {"right": {"right": {"name": "c", "type": "Identifier"}, "operator": "+", "left": {"name": "g", "type": "Identifier"}, "type": "BinaryExpression"}, "operator": "/", "left": {"right": {"name": "c", "type": "Identifier"}, "operator": "-", "left": {"name": "g", "type": "Identifier"}, "type": "BinaryExpression"}, "type": "BinaryExpression"}, "id": {"name": "A", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"declarations": [{"init": {"right": {"right": {"raw": "1.0", "value": 1.0, "type": "Literal"}, "operator": "+", "left": {"right": {"right": {"name": "c", "type": "Identifier"}, "operator": "-", "left": {"name": "g", "type": "Identifier"}, "type": "BinaryExpression"}, "operator": "*", "left": {"name": "c", "type": "Identifier"}, "type": "BinaryExpression"}, "type": "BinaryExpression"}, "operator": "/", "left": {"right": {"raw": "1.0", "value": 1.0, "type": "Literal"}, "operator": "-", "left": {"right": {"right": {"name": "c", "type": "Identifier"}, "operator": "+", "left": {"name": "g", "type": "Identifier"}, "type": "BinaryExpression"}, "operator": "*", "left": {"name": "c", "type": "Identifier"}, "type": "BinaryExpression"}, "type": "BinaryExpression"}, "type": "BinaryExpression"}, "id": {"name": "B", "type": "Identifier"}, "type": "VariableDeclarator"}], "kind": "var", "type": "VariableDeclaration"}, {"argument": {"right": {"right": {"right": {"name": "B", "type": "Identifier"}, "operator": "*", "left": {"name": "B", "type": "Identifier"}, "type": "BinaryExpression"}, "operator": "+", "left": {"raw": "1.0", "value": 1.0, "type": "Literal"}, "type": "BinaryExpression"}, "operator": "*", "left": {"right": {"name": "A", "type": "Identifier"}, "operator": "*", "left": {"right": {"name": "A", "type": "Identifier"}, "operator": "*", "left": {"raw": "0.5", "value": 0.5, "type": "Literal"}, "type": "BinaryExpression"}, "type": "BinaryExpression"}, "type": "BinaryExpression"}, "type": "ReturnStatement"}], "type": "BlockStatement"}, "type": "IfStatement"}], "type": "BlockStatement"}, "defaults": [], "params": [{"name": "blend", "type": "Identifier"}, {"name": "normal", "type": "Identifier"}, {"name": "position", "type": "Identifier"}], "expression": false, "generator": false, "rest": null, "id": {"name": "fresnelequation", "type": "Identifier"}, "type": "FunctionDeclaration"}], "type": "Program"}